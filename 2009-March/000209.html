<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-discuss] some test results
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-discuss/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:pinot-discuss%40lists.berlios.de?Subject=Re%3A%20%5BPinot-discuss%5D%20some%20test%20results&In-Reply-To=%3C20090303125228.395b73a5%40desktop.workplace%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000207.html">
   <LINK REL="Next"  HREF="000210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-discuss] some test results</H1>
    <B>John Werden</B> 
    <A HREF="mailto:pinot-discuss%40lists.berlios.de?Subject=Re%3A%20%5BPinot-discuss%5D%20some%20test%20results&In-Reply-To=%3C20090303125228.395b73a5%40desktop.workplace%3E"
       TITLE="[Pinot-discuss] some test results">jwerden at hotpop.com
       </A><BR>
    <I>Tue Mar  3 12:52:28 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000207.html">[Pinot-discuss] some test results
</A></li>
        <LI>Next message: <A HREF="000210.html">[Pinot-discuss] some test results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 1 Mar 2009 17:18:41 +0800
Fabrice Colin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/pinot-discuss">fabrice.colin at gmail.com</A>&gt; wrote:

&gt;<i> As it is, for supported file types, pinot will read files in their
</I>&gt;<i> entirety. When they can be handled directly, they are mmap'ed, but
</I>&gt;<i> when they need conversion through an external program (eg pdf and zip
</I>&gt;<i> files), they may cause a huge memory buffer to be allocated.
</I>&gt;<i> It should be okay to only grab the first 5 Mb for instance, at least
</I>&gt;<i> for file types that are converted directly to plain text.
</I>&gt;<i> I have implemented this change in beta 4, could you give it a try ?
</I>&gt;<i> Note that it's not in SVN yet. The mod is in
</I>&gt;<i> Tokenize/filters/ExternalFilter. I should also change the indexer
</I>&gt;<i> code, but that can be done later.
</I>&gt;<i> 
</I>&gt;<i> Fabrice
</I>
I gave it a try and memory usage is much more human and my system is
more responsive. But it's still way too high. Pinot ate 3GB shared and
700 MB nonshared top. After too much of it went into swap, my system
didn't become unresponsive, but it was still too much to make a clean
shutdown, let alone kill all the bigger programs which got swapped out
with pinot, because 99% cpu usage was in wa.

John


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000207.html">[Pinot-discuss] some test results
</A></li>
	<LI>Next message: <A HREF="000210.html">[Pinot-discuss] some test results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#209">[ date ]</a>
              <a href="thread.html#209">[ thread ]</a>
              <a href="subject.html#209">[ subject ]</a>
              <a href="author.html#209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-discuss">More information about the Pinot-discuss
mailing list</a><br>
</body></html>
