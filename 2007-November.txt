From A.Wagner at stud.uni-frankfurt.de  Thu Nov  1 11:36:34 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Thu, 1 Nov 2007 11:36:34 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
Message-ID: <20071101103634.GA6813@hermes.commontology.de>

Salut Fabrice, hello list,

I have de-/reinstalled pinot now (it wouldn't index a second time after I had manually removed the index 
subdirectories in .pinot) and re-run an indexing process.
The same directory, Pinot says 3169 Files crawled, mostly english, a few german, very vew french files, mostly pdf, a 
few html, very few doc/rtf. Most of the documents deal with one of two areas of research, one computer science and 
another one social theory/philosophy.

I let it run for almost 2 and 1/2 hours, it had 2421 documents indexed and now my home partition is stuffed, I had to 
kill pinot-dbus-daemon.


* On 29 Okt 2007, Fabrice Colin wrote:
> Can you email the output of "du -hsc ~/.pinot/daemon/*" ?

Yup. Here it is:
(the first two are the documents folder and the logfile, but you can see this yourselves, of course.)

[wagner at apollo ~]$ du -h --max-depth=0 Dokumente/
1,5G    Dokumente/
[wagner at apollo ~]$ du -hsc .pinot/pinot-dbus-daemon.log
92M     .pinot/pinot-dbus-daemon.log
92M     insgesamt
[wagner at apollo ~]$ du -hsc .pinot/daemon/*
4,0K    .pinot/daemon/CACHEDIR.TAG
0       .pinot/daemon/flintlock
4,0K    .pinot/daemon/iamflint
219M    .pinot/daemon/position.DB
4,0K    .pinot/daemon/position.baseB
408M    .pinot/daemon/postlist.DB
8,0K    .pinot/daemon/postlist.baseA
8,0K    .pinot/daemon/postlist.baseB
476K    .pinot/daemon/record.DB
4,0K    .pinot/daemon/record.baseB
622M    .pinot/daemon/spelling.DB
12K     .pinot/daemon/spelling.baseA
12K     .pinot/daemon/spelling.baseB
33M     .pinot/daemon/termlist.DB
4,0K    .pinot/daemon/termlist.baseB
76K     .pinot/daemon/value.DB
4,0K    .pinot/daemon/value.baseA
4,0K    .pinot/daemon/value.baseB
4,0K    .pinot/daemon/version
1,3G    insgesamt

HTH,
Andreas


PS. In the logfile, I have many entries like these:

HtmlFilter::errorHandler: after 411229: htmlParseEntityRef: expecting ';'

HtmlFilter::errorHandler: after 411358: htmlParseEntityRef: expecting ';'

HtmlFilter::errorHandler: after 411418: htmlParseStartTag: invalid element name

I am not sure what to look for in that file (can't it put the filenames in there?)...


-- 
He who laughs last is at 300 baud.

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From fabrice.colin at gmail.com  Thu Nov  1 14:44:53 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 1 Nov 2007 21:44:53 +0800
Subject: [Pinot-discuss] Pinot 0.80
Message-ID: <6538c8c80711010644o612ebf20r3fe1e431ae32016e@mail.gmail.com>

Pinot 0.80 is available. Grab the tarball at
http://prdownload.berlios.de/pinot/pinot-0.80.tar.gz

The NEWS file has the details :
http://svn.berlios.de/wsvn/pinot/tags/version_0_8_0/NEWS?op=file&rev=0&sc=0

This version requires at least Xapian 1.0.3; 1.0.4 is highly recommended.

Fabrice


From fabrice.colin at gmail.com  Thu Nov  1 15:07:40 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 1 Nov 2007 22:07:40 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071101103634.GA6813@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
Message-ID: <6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>

Hi Andreas,

On 11/1/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> I have de-/reinstalled pinot now (it wouldn't index a second time after
> I had manually removed the index subdirectories in .pinot) and re-run
> an indexing process.
>
If you didn't delete the history database, this is the expected behaviour.
Have a look at section 14 in the README, it explains how to reset indexes.

With the just released 0.80 release, one can get the daemon to reindex
stuff by passing "--reindex" as parameter.

> The same directory, Pinot says 3169 Files crawled, mostly english, a
> few german, very vew french files, mostly pdf, a few html, very few doc/rtf.
> Most of the documents deal with one of two areas of research, one
> computer science and another one social theory/philosophy.
>
> I let it run for almost 2 and 1/2 hours, it had 2421 documents indexed and
> now my home partition is stuffed, I had to kill pinot-dbus-daemon.
>
Okay. This seems slow, but I admit there's a lot of room for optimizations
in first time indexing. What's your system like in terms of CPU and RAM ?

> * On 29 Okt 2007, Fabrice Colin wrote:
> > Can you email the output of "du -hsc ~/.pinot/daemon/*" ?
>
> Yup. Here it is:
> (the first two are the documents folder and the logfile, but you can see
> this yourselves, of course.)
>
> [wagner at apollo ~]$ du -h --max-depth=0 Dokumente/
> 1,5G    Dokumente/
> [wagner at apollo ~]$ du -hsc .pinot/pinot-dbus-daemon.log
> 92M     .pinot/pinot-dbus-daemon.log
> 92M     insgesamt
> [wagner at apollo ~]$ du -hsc .pinot/daemon/*
> 4,0K    .pinot/daemon/CACHEDIR.TAG
> 0       .pinot/daemon/flintlock
> 4,0K    .pinot/daemon/iamflint
> 219M    .pinot/daemon/position.DB
> 4,0K    .pinot/daemon/position.baseB
> 408M    .pinot/daemon/postlist.DB
> 8,0K    .pinot/daemon/postlist.baseA
> 8,0K    .pinot/daemon/postlist.baseB
> 476K    .pinot/daemon/record.DB
> 4,0K    .pinot/daemon/record.baseB
> 622M    .pinot/daemon/spelling.DB
> 12K     .pinot/daemon/spelling.baseA
> 12K     .pinot/daemon/spelling.baseB
> 33M     .pinot/daemon/termlist.DB
> 4,0K    .pinot/daemon/termlist.baseB
> 76K     .pinot/daemon/value.DB
> 4,0K    .pinot/daemon/value.baseA
> 4,0K    .pinot/daemon/value.baseB
> 4,0K    .pinot/daemon/version
> 1,3G    insgesamt
>
The spelling database is surprisingly big...

> PS. In the logfile, I have many entries like these:
>
> HtmlFilter::errorHandler: after 411229: htmlParseEntityRef: expecting ';'
>
> HtmlFilter::errorHandler: after 411358: htmlParseEntityRef: expecting ';'
>
> HtmlFilter::errorHandler: after 411418: htmlParseStartTag: invalid element name
>
These are just noise I ought to get rid of. You can safely ignore
these messages.

> I am not sure what to look for in that file (can't it put the filenames in there?)...
>
It does, but in DEBUG mode only. A non-DEBUG mode will (or maybe I should
say "should") pretty much only log errors and warnings.
You can check what files were indexed by listing the contents of your "My
Documents" index.
Does the Status window show any error ?

It looks like I'll have to come up with a patch that disables building
the spelling
database. Would you be able to test it out ?
In the meantime, can you try v0.80 in DEBUG mode (run configure with
"--enable-debug=yes") ? I don't think you will see any difference, but any patch
I create will be based on the 0.80 source.

Thanks for your reply !

Fabrice


From A.Wagner at stud.uni-frankfurt.de  Thu Nov  1 15:35:01 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Thu, 1 Nov 2007 15:35:01 +0100
Subject: [Pinot-discuss]  Can't compile 0.80
In-Reply-To: <6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
Message-ID: <20071101143501.GE6813@hermes.commontology.de>

Hello again,

it seems compiling 0.80 does not work here. Here is the output (no config flags used except for --enable-debug=yes):

/bin/sh ../libtool --tag=CXX   --mode=compile g++ -DHAVE_CONFIG_H -I. -I..    -fPIC -I./../Utils -Ifilters -I/usr/include/gmime-2.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include   -I/usr/include/libxml++-2.6 -I/usr/lib/libxml++-2.6/include -I/usr/include/libxml2 -I/usr/include/glibmm-2.4 -I/usr/lib/glibmm-2.4/include -I/usr/include/sigc++-2.0 -I/usr/lib/sigc++-2.0/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include   -I/usr/include/taglib   -D_DYNAMIC_DIJON_FILTERS -D_DIJON_EXTERNALFILTER_CONFFILE=\"/usr/local/etc/pinot/external-filters.xml\" -g -O2 -ggdb3 -O0 -DDEBUG -MT TagLibMusicFilter.lo -MD -MP -MF .deps/TagLibMusicFilter.Tpo -c -o TagLibMusicFilter.lo `test -f 'filters/TagLibMusicFilter.cc' || echo './'`filters/TagLibMusicFilter.cc
  g++ -DHAVE_CONFIG_H -I. -I.. -fPIC -I./../Utils -Ifilters -I/usr/include/gmime-2.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml++-2.6 -I/usr/lib/libxml++-2.6/include -I/usr/include/libxml2 -I/usr/include/glibmm-2.4 -I/usr/lib/glibmm-2.4/include -I/usr/include/sigc++-2.0 -I/usr/lib/sigc++-2.0/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/taglib -D_DYNAMIC_DIJON_FILTERS -D_DIJON_EXTERNALFILTER_CONFFILE=\"/usr/local/etc/pinot/external-filters.xml\" -g -O2 -ggdb3 -O0 -DDEBUG -MT TagLibMusicFilter.lo -MD -MP -MF .deps/TagLibMusicFilter.Tpo -c filters/TagLibMusicFilter.cc  -fPIC -DPIC -o .libs/TagLibMusicFilter.o
  g++ -DHAVE_CONFIG_H -I. -I.. -fPIC -I./../Utils -Ifilters -I/usr/include/gmime-2.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/libxml++-2.6 -I/usr/lib/libxml++-2.6/include -I/usr/include/libxml2 -I/usr/include/glibmm-2.4 -I/usr/lib/glibmm-2.4/include -I/usr/include/sigc++-2.0 -I/usr/lib/sigc++-2.0/include -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/taglib -D_DYNAMIC_DIJON_FILTERS -D_DIJON_EXTERNALFILTER_CONFFILE=\"/usr/local/etc/pinot/external-filters.xml\" -g -O2 -ggdb3 -O0 -DDEBUG -MT TagLibMusicFilter.lo -MD -MP -MF .deps/TagLibMusicFilter.Tpo -c filters/TagLibMusicFilter.cc -o TagLibMusicFilter.o >/dev/null 2>&1
make[2]: *** [TagLibMusicFilter.lo] Fehler 1
make[2]: Leaving directory `/home/wagner/Temp/abs-local/pinot/pinot-0.80/Tokenize'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/home/wagner/Temp/abs-local/pinot/pinot-0.80'
make: *** [all] Fehler 2

Thank you for any help,
Andreas

PS. And please remember to CC me directly, I am still not on the list. (Maybe I should change that? ;)

-- 
_________________________________________________
No I Don't Yahoo!
And I'm getting pretty sick of being asked if I do.
_________________________________________________

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From fabrice.colin at gmail.com  Thu Nov  1 15:44:02 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 1 Nov 2007 22:44:02 +0800
Subject: [Pinot-discuss] Can't compile 0.80
In-Reply-To: <20071101143501.GE6813@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071101143501.GE6813@hermes.commontology.de>
Message-ID: <6538c8c80711010744j5c49e3b0uf8228c0c0f6a5dc8@mail.gmail.com>

Hello Andreas,

On 11/1/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> it seems compiling 0.80 does not work here. Here is the output (no config flags
> used except for --enable-debug=yes):
> ...
>   g++ -DHAVE_CONFIG_H ... -c filters/TagLibMusicFilter.cc -o TagLibMusicFilter.o >/dev/null 2>&1
> make[2]: *** [TagLibMusicFilter.lo] Fehler 1
>
I don't see the actual error message. Does gcc say anything before the line
about "Fehler 1" ?
Could you redirect the output of 'make' to a file and email it to me ? It may be
too big for the list.

Fabrice


From fabrice.colin at gmail.com  Fri Nov  2 15:37:04 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Fri, 2 Nov 2007 21:37:04 +0700
Subject: [Pinot-discuss]  Can't compile 0.80
In-Reply-To: <6538c8c80711011851h245f7106j2af8e24959877b85@mail.gmail.com>
References: <20071101143501.GE6813@hermes.commontology.de>
	<6538c8c80711010744j5c49e3b0uf8228c0c0f6a5dc8@mail.gmail.com>
	<20071101152141.GF6813@hermes.commontology.de>
	<6538c8c80711010859q37c132afj6c6d9e5f4c476ba6@mail.gmail.com>
	<20071101170021.GH6813@hermes.commontology.de>
	<6538c8c80711011851h245f7106j2af8e24959877b85@mail.gmail.com>
Message-ID: <6538c8c80711020737w78738140o59c950ac570f3dc9@mail.gmail.com>

Andreas sent me the output of 'make', so I am taking this
back to the list in case others run into the same issue.

On 11/2/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> * On 01 Nov 2007, Fabrice Colin wrote:
> > It's failing somewhere else. Previously, it was in Tokenize, this
> time in UI...
>
> That could also be because of something else: At some point -- and I
> didn't pay enough attention -- compiling failed at other points
> because 'no space left on device' ;) Now that I have as per the
> README manually deleted stuff, I can try compiling again...
>
Ahah. Time to get yourself a bigger hard disk :-)

> > Did you compile 0.76 on your box, or use a package ? What version
> > of glibmm, gtkmm and libsigc++ do you have ?
>
> I have it compiled on my box. Right now I have also upgraded to
> xapian 1.0.4, but the problem remains.
>
> glibmm: 2.14.1
> gtkmm: 2.12.1
> libsigc++: 2.1.1
> ...
> PinotUtils.h:25:34: Fehler: sigc++/compatibility.h: Datei oder Verzeichnis nicht gefunden
> ...
> I have looked around a bit and I don't find a compatibility.h
> (except for one for acaml) anywhere.
>
> I have dl'ed a current libsigc++ and found this in the changelog:
>
> 2007-08-14  Murray Cumming  <murrayc at murrayc.com>
>
>          * sigc++/Makefile.am:
>          * sigc++/compatibility.h: Removed this header.
> ...
>
> I am not sure if this has anything to do with my actual problem, but
> it looks like something you'd probably want to fix anyway.
>
Yes, that's what it is. Pinot uses the compatibility layer defined
in compatibility.h
Thanks for catching this. I'll have to update the source to do
without it then... In the meantime, if you want to compile 0.80
you will have to revert to an older version of libsigc++.
I use 2.0.17 here.

Fabrice


From nix.or.die at googlemail.com  Fri Nov  2 15:55:26 2007
From: nix.or.die at googlemail.com (Gabriel C)
Date: Fri, 02 Nov 2007 15:55:26 +0100
Subject: [Pinot-discuss] Can't compile 0.80
In-Reply-To: <6538c8c80711020737w78738140o59c950ac570f3dc9@mail.gmail.com>
References: <20071101143501.GE6813@hermes.commontology.de>	<6538c8c80711010744j5c49e3b0uf8228c0c0f6a5dc8@mail.gmail.com>	<20071101152141.GF6813@hermes.commontology.de>	<6538c8c80711010859q37c132afj6c6d9e5f4c476ba6@mail.gmail.com>	<20071101170021.GH6813@hermes.commontology.de>	<6538c8c80711011851h245f7106j2af8e24959877b85@mail.gmail.com>
	<6538c8c80711020737w78738140o59c950ac570f3dc9@mail.gmail.com>
Message-ID: <472B3A5E.3070903@googlemail.com>

Fabrice Colin wrote:
> I use 2.0.17 here.

2.0.18 is fine also , is what I use.
 
> Fabrice

Gabriel


From fabrice.colin at gmail.com  Sun Nov  4 05:56:13 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Sun, 4 Nov 2007 12:56:13 +0800
Subject: [Pinot-discuss] Can't compile 0.80
In-Reply-To: <6538c8c80711020737w78738140o59c950ac570f3dc9@mail.gmail.com>
References: <20071101143501.GE6813@hermes.commontology.de>
	<6538c8c80711010744j5c49e3b0uf8228c0c0f6a5dc8@mail.gmail.com>
	<20071101152141.GF6813@hermes.commontology.de>
	<6538c8c80711010859q37c132afj6c6d9e5f4c476ba6@mail.gmail.com>
	<20071101170021.GH6813@hermes.commontology.de>
	<6538c8c80711011851h245f7106j2af8e24959877b85@mail.gmail.com>
	<6538c8c80711020737w78738140o59c950ac570f3dc9@mail.gmail.com>
Message-ID: <6538c8c80711032156u5973218aq28cccb0619fdd9bf@mail.gmail.com>

Hi Andreas,

On 11/2/07, Fabrice Colin <fabrice.colin at gmail.com> wrote:
> Yes, that's what it is. Pinot uses the compatibility layer defined
> in compatibility.h
> Thanks for catching this. I'll have to update the source to do
> without it then... In the meantime, if you want to compile 0.80
> you will have to revert to an older version of libsigc++.
> I use 2.0.17 here.
>
Can you try this patch ?
http://pinot.berlios.de/sigcpp_no_compat.patch

Fabrice


From A.Wagner at stud.uni-frankfurt.de  Sun Nov  4 10:14:12 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Sun, 4 Nov 2007 10:14:12 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
Message-ID: <20071104091412.GB14451@hermes.commontology.de>

Salut,

The patch applies and compiles.
I had to work around some complaint by archlinux's install routine:

/bin/install -c -m 644 UI/icons/48x48/pinot.png 
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/48x48/apps/pinot.png
/bin/install -c -m 644 UI/icons/32x32/pinot.png 
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/32x32/apps/pinot.png
/bin/install -c -m 644 UI/icons/24x24/pinot.png 
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/24x24/apps/pinot.png
/bin/install -c -m 644 UI/icons/22x22/pinot.png 
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/22x22/apps/pinot.png
/bin/install -c -m 644 UI/icons/16x16/pinot.png 
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/16x16/apps/pinot.png
/home/wagner/Temp/abs-local/pinot/pkg/usr/share/applications/pinot.desktop: error: value "pinot.png" for key "Icon" in 
group "Desktop Entry" is an icon name with an extension, but there should be no extension as described in the Icon 
Theme Specification if the value is not an absolute path
Error on file "pinot.desktop": Failed to validate the created desktop file
make[2]: *** [install-data-local] Error 1

(the same goes for pinot-dbus-daemon.desktop.)

Other than that, pinot is running fine and just indexing my documents right now...
Well, to be honest, pinot-dbus-daemon is indexing while the UI has just crashed. :(

[wagner at apollo .pinot]$ pinot

glibmm-ERROR **:
unhandled exception (type unknown) in signal handler

aborting...
Abgebrochen

What I did was: launching it ('pinot' on cmdline), going to preferences, looking at the directories, 'OK', looking at 
the stats (no dbus-daemon running yet), re-opening prefs, removing the to-be-indexed-directory, 'OK', re-open 
preferences, add the directory again, 'OK', open stats - which didn't happen. instead the gui disappeared altogether 
because of the crash.
Re-launching pinot/gui seems to work tho. Status bar says can't open index /home/wagner/.pinot/index, but the status 
window shows no errors and is updated periodically.


To be verbose, here are my version numbers again:

glibc: 2.7
gcc: 4.2.2
xapian-core: 1.0.4
libsigc++: 2.1.1
glibmm: 2.14.1
gtkmm: 2.12.1

* On 01 Nov 2007, Fabrice Colin wrote:
>> I let it run for almost 2 and 1/2 hours, it had 2421 documents indexed and now my home partition is stuffed, I had 
>> to kill pinot-dbus-daemon.
>>
> Okay. This seems slow, but I admit there's a lot of room for optimizations 
> in first time indexing. What's your system like in terms of CPU and RAM ?

I have an athlon64 3000 with one Gig RAM. I noticed on indexing that RAM does fill up (even a bit into swapspace) and 
periodically (not so often, tho, returns to ~50%, but I suppose that's normal. (I've seen in Recoll that they offer a 
config option to specify after how many MB data gets flushed to disk -- or just leave that up to xapian (I suppose 
that's what pinot is doint as well).)


> It looks like I'll have to come up with a patch that disables building the spelling database. Would you be able to 
> test it out ? In the meantime, can you try v0.80 in DEBUG mode (run configure with "--enable-debug=yes") ? I don't 
> think you will see any difference, but any patch I create will be based on the 0.80 source.

All of the above is for --enable-debug=yes. RAM/Swap usage is much better now, however! While Swap is being used (I 
have a kernel with low swappiness), this is half a gig and Ram is only ever at most about half filled.

Oops. Right now I have several errors in the status window, all of which like this:
Couldn't retrieve document - file:///path/to/some_doc?ment_with_qu?stionmarks.html
(the names are with umlauts or apostrophes and I can't figure out the filename encoding. Normally I have utf-8, but 
then 'ls' wouldn't throw these questionmarks at me. mvconv doesn't want to change a thing about those filename...)

It has finished indexing after some 20 minutes (forgot to time it and had to leave before it had finished) now 
and here's the du:

[wagner at apollo ~]$ du -hsc ~/.pinot/*
4,0K    /home/wagner/.pinot/config.xml
464M    /home/wagner/.pinot/daemon
20K     /home/wagner/.pinot/history
3,3M    /home/wagner/.pinot/history-daemon
28K     /home/wagner/.pinot/index
21M     /home/wagner/.pinot/pinot-dbus-daemon.log
4,0K    /home/wagner/.pinot/pinot-dbus-daemon.pid
476K    /home/wagner/.pinot/pinot.log
488M    insgesamt
[wagner at apollo ~]$ du -hsc ~/.pinot/daemon/*
4,0K    /home/wagner/.pinot/daemon/CACHEDIR.TAG
0       /home/wagner/.pinot/daemon/flintlock
4,0K    /home/wagner/.pinot/daemon/iamflint
117M    /home/wagner/.pinot/daemon/position.DB
4,0K    /home/wagner/.pinot/daemon/position.baseA
4,0K    /home/wagner/.pinot/daemon/position.baseB
155M    /home/wagner/.pinot/daemon/postlist.DB
4,0K    /home/wagner/.pinot/daemon/postlist.baseA
4,0K    /home/wagner/.pinot/daemon/postlist.baseB
588K    /home/wagner/.pinot/daemon/record.DB
4,0K    /home/wagner/.pinot/daemon/record.baseA
4,0K    /home/wagner/.pinot/daemon/record.baseB
168M    /home/wagner/.pinot/daemon/spelling.DB
4,0K    /home/wagner/.pinot/daemon/spelling.baseA
4,0K    /home/wagner/.pinot/daemon/spelling.baseB
25M     /home/wagner/.pinot/daemon/termlist.DB
4,0K    /home/wagner/.pinot/daemon/termlist.baseA
4,0K    /home/wagner/.pinot/daemon/termlist.baseB
340K    /home/wagner/.pinot/daemon/value.DB
4,0K    /home/wagner/.pinot/daemon/value.baseA
4,0K    /home/wagner/.pinot/daemon/value.baseB
464M    insgesamt

Looks better now, innit?

Cheers,
Andreas

-- 
????? ?snq? ?,u?? no? ??? ?u?????u? s?? poo? ?????

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From fabrice.colin at gmail.com  Sun Nov  4 11:03:41 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Sun, 4 Nov 2007 18:03:41 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071104091412.GB14451@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
Message-ID: <6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>

Hi Andreas,

On 11/4/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> The patch applies and compiles.
> I had to work around some complaint by archlinux's install routine:
> ...
> Error on file "pinot.desktop": Failed to validate the created desktop file
> make[2]: *** [install-data-local] Error 1
>
> (the same goes for pinot-dbus-daemon.desktop.)
>
Okay. Is this with desktop-file-install > 0.12 ?
I'll update the desktop files.

> Other than that, pinot is running fine and just indexing my documents right
> now... Well, to be honest, pinot-dbus-daemon is indexing while the UI has
> just crashed. :(
>
> [wagner at apollo .pinot]$ pinot
>
> glibmm-ERROR **:
> unhandled exception (type unknown) in signal handler
>
> aborting...
> Abgebrochen
>
> What I did was: launching it ('pinot' on cmdline), going to preferences,
> looking at the directories, 'OK', looking at the stats (no dbus-daemon
> running yet), re-opening prefs, removing the to-be-indexed-directory, 'OK',
> re-open preferences, add the directory again, 'OK', open stats - which didn't
> happen. instead the gui disappeared altogether because of the crash.
> Re-launching pinot/gui seems to work tho. Status bar says can't open index
> /home/wagner/.pinot/index, but the status window shows no errors and is
> updated periodically.
>
You may want to exit the UI and delete .pinot/index/flintlock to get rid of the
"can't open index" message. I'll add that to the FAQ.

The crash you experienced is a known problem. We have seen it happen
on some systems. What version of dbus and dbus-glib does ArchLinux have ?
If Gabriel is reading this, he can probably tell us what versions of the above
he installed to get rid of the crash...

> On 01 Nov 2007, Fabrice Colin wrote:
> > Okay. This seems slow, but I admit there's a lot of room for optimizations
> > in first time indexing. What's your system like in terms of CPU and RAM ?
>
> I have an athlon64 3000 with one Gig RAM. I noticed on indexing that RAM
> does fill up (even a bit into swapspace) and periodically (not so often, tho,
> returns to ~50%, but I suppose that's normal. (I've seen in Recoll that they
> offer a config option to specify after how many MB data gets flushed to disk
> -- or just leave that up to xapian (I suppose that's what pinot is doint as well).)
>
You're right.
Flushing is not directly configurable in Pinot. The environment variable
XAPIAN_FLUSH_THRESHOLD can be set to the number of documents
after which Xapian should flush changes to the index. The default value is
set to 10000 I believe.
pinot-dbus-daemon explicitely flushes the index once it has crawled a
directory (directory configured in Preferences, Indexing).

> All of the above is for --enable-debug=yes. RAM/Swap usage is much better
> now, however! While Swap is being used (I have a kernel with low
> swappiness), this is half a gig and Ram is only ever at most about half filled.
>
> Oops. Right now I have several errors in the status window, all of which like
> this:
> Couldn't retrieve document - file:///path/to/some_doc?ment_with_qu?stionmarks.html
> (the names are with umlauts or apostrophes and I can't figure out the
> filename encoding. Normally I have utf-8, but then 'ls' wouldn't throw these
> questionmarks at me. mvconv doesn't want to change a thing about those
> filename...)
>
Ah good catch. I'll look into this.

> It has finished indexing after some 20 minutes (forgot to time it and had to
> leave before it had finished) now and here's the du:
> ...
> [wagner at apollo ~]$ du -hsc ~/.pinot/daemon/*
> ...
> 168M    /home/wagner/.pinot/daemon/spelling.DB
> 4,0K    /home/wagner/.pinot/daemon/spelling.baseA
> 4,0K    /home/wagner/.pinot/daemon/spelling.baseB
> ...
> 464M    insgesamt
>
> Looks better now, innit?
>
Yes it does ! If I am not mistaken, your first try was with Xapian
1.0.3, right ?
That version had a bug which prevented zlib compression from working.
This probably explains why now your index is so much smaller.

Thanks for your feedback, it's very much appreciated. Let us know
if you run into any other issue.

Fabrice


From nix.or.die at googlemail.com  Sun Nov  4 11:24:32 2007
From: nix.or.die at googlemail.com (Gabriel C)
Date: Sun, 04 Nov 2007 11:24:32 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071104091412.GB14451@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>	<20071101103634.GA6813@hermes.commontology.de>	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
Message-ID: <472D9DE0.4020305@googlemail.com>

Andreas Wagner wrote:
> Salut,
> 
> The patch applies and compiles.
> I had to work around some complaint by archlinux's install routine:
> 
> /bin/install -c -m 644 UI/icons/48x48/pinot.png 
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/48x48/apps/pinot.png
> /bin/install -c -m 644 UI/icons/32x32/pinot.png 
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/32x32/apps/pinot.png
> /bin/install -c -m 644 UI/icons/24x24/pinot.png 
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/24x24/apps/pinot.png
> /bin/install -c -m 644 UI/icons/22x22/pinot.png 
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/22x22/apps/pinot.png
> /bin/install -c -m 644 UI/icons/16x16/pinot.png 
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/icons/hicolor/16x16/apps/pinot.png
> /home/wagner/Temp/abs-local/pinot/pkg/usr/share/applications/pinot.desktop: error: value "pinot.png" for key "Icon" in 
> group "Desktop Entry" is an icon name with an extension, but there should be no extension as described in the Icon 
> Theme Specification if the value is not an absolute path
> Error on file "pinot.desktop": Failed to validate the created desktop file
> make[2]: *** [install-data-local] Error 1

Known issue :)

sed -i -e 's/pinot.png/pinot/g' *desktop

> 
> (the same goes for pinot-dbus-daemon.desktop.)
> 
> Other than that, pinot is running fine and just indexing my documents right now...
> Well, to be honest, pinot-dbus-daemon is indexing while the UI has just crashed. :(
> 
> [wagner at apollo .pinot]$ pinot
> 
> glibmm-ERROR **:
> unhandled exception (type unknown) in signal handler
> 
> aborting...
> Abgebrochen
> 
> What I did was: launching it ('pinot' on cmdline), going to preferences, looking at the directories, 'OK', looking at 
> the stats (no dbus-daemon running yet), re-opening prefs, removing the to-be-indexed-directory, 'OK', re-open 
                ^^^^^^^^^^^^^^^^^^^^^^^

So you don't have dbus-launch running ? ..

> preferences, add the directory again, 'OK', open stats - which didn't happen. instead the gui disappeared altogether 
> because of the crash.
> Re-launching pinot/gui seems to work tho. Status bar says can't open index /home/wagner/.pinot/index, but the status 
> window shows no errors and is updated periodically.
> 
> 
> To be verbose, here are my version numbers again:
> 
> glibc: 2.7
> gcc: 4.2.2
> xapian-core: 1.0.4
> libsigc++: 2.1.1
> glibmm: 2.14.1
> gtkmm: 2.12.1

Dbus / glib2 / gtk version ? and are you actually running testing packages ?


> Cheers,
> Andreas
> 


Gabriel


From nix.or.die at googlemail.com  Sun Nov  4 12:10:43 2007
From: nix.or.die at googlemail.com (Gabriel C)
Date: Sun, 04 Nov 2007 12:10:43 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>	
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>	
	<20071101103634.GA6813@hermes.commontology.de>	
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>	
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
Message-ID: <472DA8B3.3040001@googlemail.com>

Fabrice Colin wrote:

> The crash you experienced is a known problem. We have seen it happen
> on some systems. What version of dbus and dbus-glib does ArchLinux have ?
> If Gabriel is reading this, he can probably tell us what versions of the above
> he installed to get rid of the crash...
> 

Well I asked already about the versions :)

... but in ArchLinux this depends on whatever you mixed current and testing as well.

The most time if you use that combo you get problems :/

Here is what I run :

glib2 2.14.2
gtkmm 2.12.1
gtk+2 2.12.1
gcc 4.2.2
dbus-glib 0.74
dbus 1.1.2
glibc 2.7
xapian-core 1.0.4
libsigc++2 2.0.18


Anyway I don't think that crash is the same because :

snip
 
... (no dbus-daemon running yet) ...

snip

Actually if you don't have dbus-launch running on session login you have a lot problems.

( btw WTH ArchLinux does not start it automatically ? ) 


> Fabrice
> 

Gabriel


From A.Wagner at stud.uni-frankfurt.de  Sun Nov  4 12:19:50 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Sun, 4 Nov 2007 12:19:50 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <472D9DE0.4020305@googlemail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<472D9DE0.4020305@googlemail.com>
Message-ID: <20071104111950.GA24829@hermes.commontology.de>

Salut encore,

* On 04 Nov 2007, Gabriel C wrote:
>> What I did was: launching it ('pinot' on cmdline), going to preferences, looking at the directories, 'OK', looking 
>> at the stats (no dbus-daemon running yet), re-opening prefs, removing the to-be-indexed-directory, 'OK', re-open 
>                ^^^^^^^^^^^^^^^^^^^^^^^
>
> So you don't have dbus-launch running ? ..

Sorry, I meant pinot-dbus-daemon. After I have removed and re-added the directory in question, it was launched, 
however. (And it is still running/idling now as I write. It?s using 0% CPU but 40% of my memory. Don't know if that's 
a problem.)

>> glibc: 2.7 
>> gcc: 4.2.2 
>> xapian-core: 1.0.4 
>> libsigc++: 2.1.1 
>> glibmm: 2.14.1 
>> gtkmm: 2.12.1
>
> Dbus / glib2 / gtk version ? and are you actually running testing packages ?

dbus: 1.0.2
dbus-glib: 0.74
gtk: 1.2.10
gtk2: 2.12.1
gtkmm: 2.12.1
xdg-utils: 1.0.2
desktop-file-utils: 0.14

Testing:
[wagner at apollo pinot]$ yaourt -Sl --nocolor testing | grep installed
==> Listing all REPOS's packages
testing binutils 2.18-4 [installed]
testing gcc 4.2.2-3 [installed]
testing gcc-libs 4.2.2-2 [installed]
testing glibc 2.7-4 [installed]
testing kernel-headers 2.6.23.1-1 [installed]
testing klibc-extras 2.3-1 [2.2-3 installed]
testing klibc-udev 116-2 [116-1 installed]
testing mdadm 2.6.4-1 [2.6.3-1 installed]
testing mesa 7.0.1-1 [installed]
testing mkinitcpio 0.5.16-1 [0.5.15-2 installed]
testing ncurses 5.6-5 [installed]
testing ndiswrapper 1.49-1 [installed]
testing ndiswrapper-utils 1.49-1 [installed]
testing ntp 4.2.4p4-3 [installed]
testing openssh 4.7p1-3 [installed]
testing openssl 0.9.8g-1 [installed]
testing opera 9.50-0.6 [installed]
testing pixman 0.9.5-3 [installed]
testing renderproto 0.9.3-1 [installed]
testing ruby 1.8.6_p111-3 [installed]
testing synaptics 0.14.6.99-1 [installed]
testing syslog-ng 2.0.5-5 [installed]
testing tzdata 2007h-1 [installed]
testing usbutils 0.73-4 [installed]
testing util-linux-ng 2.13.0.1-1 [installed]
testing xf86-input-keyboard 1.2.2-2 [installed]
testing xf86-input-mouse 1.2.3-1 [1.2.1-5 installed]
testing xf86-video-nv 2.1.6-1 [2.1.5-1 installed]
testing xf86-video-vesa 1.3.0-5 [installed]
testing xorg-server 1.4-4 [installed]

[wagner at apollo pinot]$ yaourt -Sl --nocolor community | grep installed
==> Listing all REPOS's packages
community acpitool 0.4.7-2 [installed]
community alunn 0.7.1.1-1 [installed]
community any2dvd 0.34-2 [installed]
community arch-backup 0.8.5-1 [installed]
community archlinux-xdg-menu 0.6-1 [installed]
community catfish 0.3-1 [installed]
community ccd2iso 0.3-4 [installed]
community diff2html 1.0.1-1 [installed]
community directfb 1.0.1-1 [installed]
community dvd-slideshow 0.8.0-3 [installed]
community dvdstyler 1.5.1_2-1 [installed]
community dwm 4.6-1 [installed]
community dzen2 0.8.5-1 [installed]
community fbpanel 4.12-1 [installed]
community ffcall 1.10-2.2 [installed]
community fuseiso 20070708-1 [installed]
community gkrellm 2.3.0-1 [installed]
community glitz 0.5.6-1 [installed]
community gmrun 0.9.2-2 [installed]
community gnustep-back 0.12.0-2 [installed]
community gnustep-base 1.15.0-1 [installed]
community gnustep-gui 0.12.0-2 [installed]
community gnustep-make 2.0.1-1 [installed]
community gsynaptics 0.9.11-1 [installed]
community gtk2fontsel 0.1-1 [installed]
community gtkperf 0.40-2 [installed]
community hardinfo 0.4.2.2-1 [installed]
community hwinfo 13.48-1 [installed]
community iasl 20061109-2 [installed]
community iftop 0.17-5 [installed]
community jacman 0.4-2 [installed]
community k9copy 1.1.3-1 [installed]
community kdestyle-polyester 1.0.2-1 [installed]
community kmldonkey 0.10.1-4 [installed]
community libnewt 0.52.2-4 [installed]
community libtextcat 2.2-5 [installed]
community lxpanel 0.2.4-2 [installed]
community mc-utf8 4.6.1-7 [installed]
community mldonkey 2.9.1-1 [installed]
community mpg123 0.67-1 [installed]
community multimux 0.2.5.1-1 [installed]
community musepack-tools 1.15v-1 [installed]
community nas 1.9-1 [installed]
community partimage 0.6.5-2 [installed]
community pcmanfm 0.3.2.2-3 [installed]
community perl-file-which 0.05-2 [installed]
community perl-mail-box-parser-c 3.006-2 [installed]
community perl-text-iconv 1.4-2 [installed]
community plan9port 20051127-1 [installed]
community polymer 0.3.2-2 [installed]
community poweriso 1.1-3 [installed]
community powertop 1.8-1 [installed]
community pypanel 2.4-2 [installed]
community python-xlib 0.13-3 [installed]
community qemulator 0.5-2 [installed]
community qt4 4.3.2-2 [installed]
community recoll 1.8.2-3.1 [1.9.0-1 installed]
community remind 3.01.03-1 [installed]
community rkhunter 1.3.0-2 [installed]
community slock 0.6-2 [installed]
community soundtouch 1.3.1-2 [installed]
community sux 1.0.1-1 [installed]
community sysstat 8.0.1-1 [installed]
community ted 2.17-2 [installed]
community terminus-font 4.20-2 [installed]
community tesseract 2.01-1 [installed]
community toolame 02l-5 [installed]
community tracker 0.6.3-1 [installed]
community ttf-freefont 20060126-4 [installed]
community txt2tags 2.4-2 [installed]
community unrtf 0.20.4_1-1 [installed]
community vamps 0.99.2-4 [installed]
community versionpkg 0.7.6-1 [installed]
community vobcopy 1.0.2-3 [installed]
community wxsvg 1.0b7-3 [installed]
community xapian-core 1.0.3-1 [1.0.4-1 installed]
community xdm-archlinux 0.2-9 [installed]
community xmlto 0.0.18-1 [installed]


and then there are packages from AUR/installed from source, i.e. not an official repository. With these, it's hard to 
tell whether they're "stable" or "testing".

any package in particular I should be looking for?


and yes, the last try (which was using so much hdd space) was with xapian-core 1.0.3.

Andreas

-- 
Why is the alphabet in that order? Is it because of that song?

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From nix.or.die at googlemail.com  Sun Nov  4 12:40:44 2007
From: nix.or.die at googlemail.com (Gabriel C)
Date: Sun, 04 Nov 2007 12:40:44 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071104111950.GA24829@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>	<20071101103634.GA6813@hermes.commontology.de>	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>	<20071104091412.GB14451@hermes.commontology.de>	<472D9DE0.4020305@googlemail.com>
	<20071104111950.GA24829@hermes.commontology.de>
Message-ID: <472DAFBC.6010701@googlemail.com>

Andreas Wagner wrote:
> Salut encore,
> 
> * On 04 Nov 2007, Gabriel C wrote:
>>> What I did was: launching it ('pinot' on cmdline), going to preferences, looking at the directories, 'OK', looking 
>>> at the stats (no dbus-daemon running yet), re-opening prefs, removing the to-be-indexed-directory, 'OK', re-open 
>>                ^^^^^^^^^^^^^^^^^^^^^^^
>>
>> So you don't have dbus-launch running ? ..
> 
> Sorry, I meant pinot-dbus-daemon. After I have removed and re-added the directory in question, it was launched,

Ok 
 
> however. (And it is still running/idling now as I write. It?s using 0% CPU but 40% of my memory. Don't know if that's 
> a problem.

No  idea right now ..

> 
>>> glibc: 2.7 
>>> gcc: 4.2.2 
>>> xapian-core: 1.0.4 
>>> libsigc++: 2.1.1 
>>> glibmm: 2.14.1 
>>> gtkmm: 2.12.1
>> Dbus / glib2 / gtk version ? and are you actually running testing packages ?
> 
> dbus: 1.0.2

Could you try dbus 1.1.2 ?

> dbus-glib: 0.74
> gtk: 1.2.10
> gtk2: 2.12.1
> gtkmm: 2.12.1
> xdg-utils: 1.0.2
> desktop-file-utils: 0.14
> 
> Testing:
> [wagner at apollo pinot]$ yaourt -Sl --nocolor testing | grep installed
> ==> Listing all REPOS's packages
> testing binutils 2.18-4 [installed]
[...]
> 
> [wagner at apollo pinot]$ yaourt -Sl --nocolor community | grep installed
> ==> Listing all REPOS's packages
> community acpitool 0.4.7-2 [installed]
[...]
> 
> 
> and then there are packages from AUR/installed from source, i.e. not an official repository. With these, it's hard to 
> tell whether they're "stable" or "testing".

AUR packages are buggy that for sure :) but is not the place to flame about these.

You have a strange mix of stable/testing tool-chain the crash can be from everywhere.


> 
> any package in particular I should be looking for?

Don't know how stable ( heh ) 'testing' tool chain may be in ArchLinux so no idea.. If you can, try to install dbus 1.1.2.


> 
> Andreas
> 


Gabriel


From fabrice.colin at gmail.com  Mon Nov  5 12:13:08 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Mon, 5 Nov 2007 19:13:08 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
Message-ID: <6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>

On 11/4/07, Fabrice Colin <fabrice.colin at gmail.com> wrote:
> On 11/4/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> > Oops. Right now I have several errors in the status window, all of
> > which like this:
> > Couldn't retrieve document - file:///path/to/some_doc?ment_with_qu?stionmarks.html
> > (the names are with umlauts or apostrophes and I can't figure out
> > the filename encoding. Normally I have utf-8, but then 'ls'
> > wouldn't throw these questionmarks at me. mvconv doesn't want to
> > change a thing about those filename...)
> >
> Ah good catch. I'll look into this.
>
The problem with question marks comes from the URI parsing code. I'll check in
a fix soon-ish.

Fabrice


From fabrice.colin at gmail.com  Mon Nov  5 12:13:50 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Mon, 5 Nov 2007 19:13:50 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071104111950.GA24829@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<472D9DE0.4020305@googlemail.com>
	<20071104111950.GA24829@hermes.commontology.de>
Message-ID: <6538c8c80711050313u6c4c01e4hb13fdf0ddb2eb376@mail.gmail.com>

Hi Andreas,

On 11/4/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> * On 04 Nov 2007, Gabriel C wrote:
> >> What I did was: launching it ('pinot' on cmdline), going to
> >> preferences, looking at the directories, 'OK', looking
> >> at the stats (no dbus-daemon running yet), re-opening prefs,
> >> removing the to-be-indexed-directory, 'OK', re-open
> >                ^^^^^^^^^^^^^^^^^^^^^^^
> >
> > So you don't have dbus-launch running ? ..
>
> Sorry, I meant pinot-dbus-daemon. After I have removed and re-added
> the directory in question, it was launched, however. (And it is still
> running/idling now as I write. It?s using 0% CPU but 40% of my
> memory. Don't know if that's a problem.)
>
The daemon doesn't exit after indexing. It waits for D-Bus requests (queries,
operations on metadata etc...) and monitors your files for changes. As you
noticed, that shouldn't consume much CPU.
I am concerned about the memory usage though. Is this after reindexing all
your files ?
Even if it is, this seems way too much.

Fabrice


From fabrice.colin at gmail.com  Thu Nov  8 12:33:05 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 8 Nov 2007 19:33:05 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
	<6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
Message-ID: <6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>

Hi Andreas,

On Nov 5, 2007 7:13 PM, Fabrice Colin <fabrice.colin at gmail.com> wrote:
> On 11/4/07, Fabrice Colin <fabrice.colin at gmail.com> wrote:
> > On 11/4/07, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> > > Oops. Right now I have several errors in the status window, all of
> > > which like this:
> > > Couldn't retrieve document - file:///path/to/some_doc?ment_with_qu?stionmarks.html
> > > (the names are with umlauts or apostrophes and I can't figure out
> > > the filename encoding. Normally I have utf-8, but then 'ls'
> > > wouldn't throw these questionmarks at me. mvconv doesn't want to
> > > change a thing about those filename...)
> > >
> > Ah good catch. I'll look into this.
> >
> The problem with question marks comes from the URI parsing code. I'll check in
> a fix soon-ish.
>
This has been checked in. Would you be able to try a source snapshot ?
I have uploaded one at http://www.chez.com/colinf/pinot/
If you touch the files the daemon failed to index properly last time, they
should be indexed now. Alternatively, you can run the daemon with the
"-r" option to force a full reindex.

Fabrice


From A.Wagner at stud.uni-frankfurt.de  Thu Nov  8 12:50:44 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Thu, 8 Nov 2007 12:50:44 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
	<6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
	<6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>
Message-ID: <20071108115044.GA6832@hermes.commontology.de>


Hi all,
sorry for not responding earlier. Tuesday I have sumbitted my PhD thesis and now I am very slowly sorting out what to 
do next (and how much and where I am getting my time from).

I had the comp running for another 2 days and when I finally powered off, pinot-dbus-daemon was still using some 20% 
of my RAM -- I suppose it gave away the other 20% without resistence when something else needed it. (But I did miss 
the moment, I must admit.)

A propos testing/stable. The weird mix of packages probably comes from the fact that at one point I had used "testing" 
as primary repository, but got a bit afraid when the submission deadline was drawing nearer. At that point, I haven't 
disabled it, but put it at the end of the repositories to be checked. So I suppose only when the core/extra repos have 
a newer version will those from testing be cleaned. Peu ? peu.


* On 08 Nov 2007, Fabrice Colin wrote:
> Hi Andreas, 
>>>> Couldn't retrieve document - file:///path/to/some_doc?ment_with_qu?stionmarks.html (the names are with umlauts or 
>>>> apostrophes and I can't figure out the filename encoding. Normally I have utf-8, but then 'ls' wouldn't throw 
>>>> these questionmarks at me. mvconv doesn't want to change a thing about those filename...)
>>>>
>>> Ah good catch. I'll look into this.
>>>
>> The problem with question marks comes from the URI parsing code. I'll check in 
>> a fix soon-ish.
>>
> This has been checked in. Would you be able to try a source snapshot ? 
> I have uploaded one at http://www.chez.com/colinf/pinot/ 
> If you touch the files the daemon failed to index properly last time, they 
> should be indexed now. Alternatively, you can run the daemon with the 
> "-r" option to force a full reindex.

I have just dl'ed the snapshot and I'm going to try it some of these days (sorry I can't be more specific. My schedule 
has also to be sorted out with the family :rolleyes:). I am going to have it re-index anyway and try to pay more 
attention to more exact metrics.
And I'll first see if the crash is happening again (I didn't try a second time up to now), before I try with 
dbus-1.1.2. (Tho I wonder that there's no update in any of the Arch Locations -- neither for xapian. Oh well.).


BTW, in case I wasn't clear enough: the filenames probably messed up in my filesystem. I'll verify and report when I 
have the snapshot up.

Cheers,
Andreas

-- 
Real programmers don't document. 
If it was hard to write, it should be hard to understand.

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From fabrice.colin at gmail.com  Thu Nov  8 13:42:30 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 8 Nov 2007 20:42:30 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071108115044.GA6832@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
	<6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
	<6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>
	<20071108115044.GA6832@hermes.commontology.de>
Message-ID: <6538c8c80711080442r58fd13c1hdee69a3c3b4cc6e3@mail.gmail.com>

On Nov 8, 2007 7:50 PM, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> Hi all,
> sorry for not responding earlier. Tuesday I have sumbitted my PhD thesis and now I am very slowly sorting out what to
> do next (and how much and where I am getting my time from).
>
Well done ! I hope it goes well.

> I had the comp running for another 2 days and when I finally powered off, pinot-dbus-daemon was still using some 20%
> of my RAM -- I suppose it gave away the other 20% without resistence when something else needed it. (But I did miss
> the moment, I must admit.)
>
This is puzzling. Can you check what version of zlib you have ? Zlib
older than 1.2.0
had a memory leak that affects Xapian.

> I have just dl'ed the snapshot and I'm going to try it some of these days (sorry I can't be more specific. My schedule
> has also to be sorted out with the family :rolleyes:). I am going to have it re-index anyway and try to pay more
> attention to more exact metrics.
> And I'll first see if the crash is happening again (I didn't try a second time up to now), before I try with
> dbus-1.1.2. (Tho I wonder that there's no update in any of the Arch Locations -- neither for xapian. Oh well.).
>
Ok. There's no urgency. When you are ready to give it a try, check
whether there's a
more recent snapshot available, I update it every few days.

> BTW, in case I wasn't clear enough: the filenames probably messed up in my filesystem.
> I'll verify and report when I have the snapshot up.
>
I see. There was a bug with the handling of filenames with a question
mark anyway,
so this was useful.

Fabrice


From A.Wagner at stud.uni-frankfurt.de  Fri Nov  9 13:43:02 2007
From: A.Wagner at stud.uni-frankfurt.de (Andreas Wagner)
Date: Fri, 9 Nov 2007 13:43:02 +0100
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <6538c8c80711080442r58fd13c1hdee69a3c3b4cc6e3@mail.gmail.com>
References: <20071028231915.GB6862@hermes.commontology.de>
	<6538c8c80710290438u58067786q7e07e4bcf965e8cc@mail.gmail.com>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
	<6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
	<6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>
	<20071108115044.GA6832@hermes.commontology.de>
	<6538c8c80711080442r58fd13c1hdee69a3c3b4cc6e3@mail.gmail.com>
Message-ID: <20071109124302.GC6832@hermes.commontology.de>

Hi all,

* On 08 Nov 2007, Fabrice Colin wrote:
>> I had the comp running for another 2 days and when I finally powered off, pinot-dbus-daemon was still using some 
>> 20% of my RAM -- I suppose it gave away the other 20% without resistence when something else needed it. (But I did 
>> miss the moment, I must admit.)
>>
> This is puzzling. Can you check what version of zlib you have ? Zlib older than 1.2.0 had a memory leak that affects 
> Xapian.

I've just had the snapshot mentioned in your last mail re-index my stuff. It took roughly 1 hour and now that it's 
finished, pinot-dbus-daemon's CPU is 0% and MEM is 18.32% (with conky, that is; top says it's 17.9%). (3160 files)

[wagner at apollo ~]$ du -hsc .pinot/daemon/*
4,0K    .pinot/daemon/CACHEDIR.TAG
0       .pinot/daemon/flintlock
4,0K    .pinot/daemon/iamflint
118M    .pinot/daemon/position.DB
4,0K    .pinot/daemon/position.baseA
4,0K    .pinot/daemon/position.baseB
155M    .pinot/daemon/postlist.DB
4,0K    .pinot/daemon/postlist.baseA
4,0K    .pinot/daemon/postlist.baseB
612K    .pinot/daemon/record.DB
4,0K    .pinot/daemon/record.baseA
4,0K    .pinot/daemon/record.baseB
168M    .pinot/daemon/spelling.DB
4,0K    .pinot/daemon/spelling.baseA
4,0K    .pinot/daemon/spelling.baseB
25M     .pinot/daemon/termlist.DB
4,0K    .pinot/daemon/termlist.baseA
4,0K    .pinot/daemon/termlist.baseB
340K    .pinot/daemon/value.DB
4,0K    .pinot/daemon/value.baseA
4,0K    .pinot/daemon/value.baseB
465M    insgesamt
[wagner at apollo ~]$ du -hsc .pinot/*
4,0K    .pinot/config.xml
465M    .pinot/daemon
20K     .pinot/history
3,3M    .pinot/history-daemon
48K     .pinot/index
21M     .pinot/pinot-dbus-daemon.log
4,0K    .pinot/pinot-dbus-daemon.pid
76K     .pinot/pinot.log
489M    insgesamt

zlib is 1.2.3.

No error messages in the stats window this time.
I have just tried to reproduce the crash but it didn't happen again. I have removed my documents dir from the 
to-be-indexed-list, re-added it and the stats are back. pinot client was responding normally displaying my documents 
fine, only pinot-dbus-daemon in the background was busy again. Right now (not more than 3 minutes later), CPU has 
settled down again, but pinot-dbus-daemon's MEM is 70.70%/69.1% (conky/top) now...

Anything else you want me to check? I'll probably soon try to play a bit with the searching and monitoring parts.

Cheers,
Andreas


-- 
To know recursion, you must first know recursion.

-- 
My Public PGP Keys:
1024 Bit DH/DSS: 0x869F81BA
768 Bit RSA:     0x1AD97BA5


From cambazz at gmail.com  Mon Nov 12 11:33:00 2007
From: cambazz at gmail.com (Cam Bazz)
Date: Mon, 12 Nov 2007 12:33:00 +0200
Subject: [Pinot-discuss] pinot running and indexing but not search
Message-ID: <47382BDC.6000403@gmail.com>

Hello,

I just installed pinot and requirements in my opensuse system. I have a
directory called /home/00pdf and configured pinot to index that
directory. looking at pinot-dbus-daemon.log I see no problems. However
my searchs return 0 results.

when I issue a command like:

delve -r 1 -d ~/.pinot/index

I am geting:

Error: DocNotFoundError: Document 1 not found.

but when I

delve -r 1 -d ~/.pinot/daemon

I am geting:

Term List for record #1: 1 59059 6 717 D20071110 Hlocalhost L M200711
P1-59059-717-6.pdf S1 S59059 S6 S717 Spdf Tapplication/pdf
Ufile:///home/00_ISBN/1-59059-717-6.pdf X-MetaSE-Doc XDIR:/ XDIR:/home
XDIR:/home/00_ISBN XEXT:pdf XLABEL:SOURCE2 Y2007 pdf

searching with pinot-search xapian also does not return any results. How
can I verify if everything is working right?

Any ideas/recomendations are greatly appreciated.

Best Regards,
-Cam B.




From fabrice.colin at gmail.com  Mon Nov 12 12:10:42 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Mon, 12 Nov 2007 19:10:42 +0800
Subject: [Pinot-discuss] pinot running and indexing but not search
In-Reply-To: <47382BDC.6000403@gmail.com>
References: <47382BDC.6000403@gmail.com>
Message-ID: <6538c8c80711120310j3a7e7855r34c14eed6b4eac2b@mail.gmail.com>

Hi,

On Nov 12, 2007 6:33 PM, Cam Bazz <cambazz at gmail.com> wrote:
> I just installed pinot and requirements in my opensuse system. I have a
> directory called /home/00pdf and configured pinot to index that
> directory. looking at pinot-dbus-daemon.log I see no problems. However
> my searchs return 0 results.
>
> when I issue a command like:
>
> delve -r 1 -d ~/.pinot/index
>
> I am geting:
>
> Error: DocNotFoundError: Document 1 not found.
>
> but when I
>
> delve -r 1 -d ~/.pinot/daemon
>
> I am geting:
>
> Term List for record #1: 1 59059 6 717 D20071110 Hlocalhost L M200711
> P1-59059-717-6.pdf S1 S59059 S6 S717 Spdf Tapplication/pdf
> Ufile:///home/00_ISBN/1-59059-717-6.pdf X-MetaSE-Doc XDIR:/ XDIR:/home
> XDIR:/home/00_ISBN XEXT:pdf XLABEL:SOURCE2 Y2007 pdf
>
> searching with pinot-search xapian also does not return any results. How
> can I verify if everything is working right?
>
~/.pinot/index is the My Web Pages index. As you noticed, your files will go to
the My Documents index at ~/.pinot/daemon

Good you ran delve. We can see terms for the metadata of the file
"1-59059-717-6.pdf" located in the directory "/home/00_ISBN". Is this directory
also configured for indexing ?

What version of Pinot are you using ?
Did you install the 0.74 RPMs from
http://download.opensuse.org/repositories/server:/search/ ?

Can you check that the pinot-text-docs RPM is installed ? This is the
package that
provides the filter for indexing PDF files. It requires the program
pdftotext to be
in your PATH. Since delve doesn't show any "data" terms, I am guessing
that either
the filter was not installed, or pdftotext is not present.

You should still be able to run queries on metadata, eg :
$ pinot-search xapian ~/.pinot/daemon/ "ext:pdf"
Can you confirm ?

Fabrice


From fabrice.colin at gmail.com  Mon Nov 12 13:39:35 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Mon, 12 Nov 2007 20:39:35 +0800
Subject: [Pinot-discuss] Index huuuge
In-Reply-To: <20071109124302.GC6832@hermes.commontology.de>
References: <20071028231915.GB6862@hermes.commontology.de>
	<20071101103634.GA6813@hermes.commontology.de>
	<6538c8c80711010707n5d35b50amc11e757966bcf5ad@mail.gmail.com>
	<20071104091412.GB14451@hermes.commontology.de>
	<6538c8c80711040203w4b916a91peb506b5b53f019b4@mail.gmail.com>
	<6538c8c80711050313s7869921fof7653228c968ae19@mail.gmail.com>
	<6538c8c80711080333s2feadbafi18dcdd23595a23cf@mail.gmail.com>
	<20071108115044.GA6832@hermes.commontology.de>
	<6538c8c80711080442r58fd13c1hdee69a3c3b4cc6e3@mail.gmail.com>
	<20071109124302.GC6832@hermes.commontology.de>
Message-ID: <6538c8c80711120439j6b9654das722997ecdf560c19@mail.gmail.com>

Hi Andreas,

On Nov 9, 2007 8:43 PM, Andreas Wagner <A.Wagner at stud.uni-frankfurt.de> wrote:
> I've just had the snapshot mentioned in your last mail re-index my stuff. It took roughly 1 hour
> and now that it's finished, pinot-dbus-daemon's CPU is 0% and MEM is 18.32% (with conky,
> that is; top says it's 17.9%). (3160 files)
>
> No error messages in the stats window this time.
> I have just tried to reproduce the crash but it didn't happen again. I have removed my
> documents dir from the to-be-indexed-list, re-added it and the stats are back. pinot client
> was responding normally displaying my documents fine, only pinot-dbus-daemon in the
> background was busy again. Right now (not more than 3 minutes later), CPU has
> settled down again, but pinot-dbus-daemon's MEM is 70.70%/69.1% (conky/top) now...
>
It may be some comfort to hear that such figures are definitely not normal ;-)

> Anything else you want me to check? I'll probably soon try to play a bit with the searching
> and monitoring parts.
>
Can you keep an eye on memory usage and see how it grows as the daemon
indexes stuff (from scratch) ?
Also, it may be useful to look at the memory map of the process.
I admit I am not up to date on how to debug this kind of thing myself.
I'll try to read
on the subject during the week.

Fabrice


From fabrice.colin at gmail.com  Thu Nov 15 13:51:46 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 15 Nov 2007 20:51:46 +0800
Subject: [Pinot-discuss] pinot running and indexing but not search
In-Reply-To: <473A17B8.9040005@gmail.com>
References: <47382BDC.6000403@gmail.com> <47383D8D.3040607@gmail.com>
	<6538c8c80711120412x2892a084k47c56c915e3fef3a@mail.gmail.com>
	<4738472C.8060604@gmail.com>
	<6538c8c80711120446s20970924pd3d789f89ddb9e04@mail.gmail.com>
	<47385E03.5080007@gmail.com>
	<6538c8c80711120627k5ae787eeyd14dc229bfa16eb6@mail.gmail.com>
	<47387E6D.4070600@gmail.com>
	<6538c8c80711122014m5321dfb7k456ab1e4f15810a9@mail.gmail.com>
	<473A17B8.9040005@gmail.com>
Message-ID: <6538c8c80711150451v69dbb323n38c697f8ed53e053@mail.gmail.com>

Copy to the list.

---------- Forwarded message ----------
From: Cam Bazz <cambazz at gmail.com>
Date: Nov 14, 2007 5:31 AM
Subject: Re: [Pinot-discuss] pinot running and indexing but not search
To: Fabrice Colin <fabrice.colin at gmail.com>

Hello Fabrice;

I managed to get it working. Appearanly, I installed the filters after I
added the index dir. What I have done was to delete .pinot and let it
index once more. This time It worked.

I have few other questions:

- what is the my web pages search? which directory does it search?
- what does `index` do. (when you right click on a document?)
- when I search on my documents and results are displayed, there is:

    a green circle (if you had opened the document before)
    a document icon with a hand on it
    and arrows (either up or down)

   What do those mean?

- I could not find a way to label documents.

- Also when a query is executed, a tab opens. (live query)
  and when you issue another query, it will just use this tab. should
not it open another tab instead. (possibly) with the name of the query.

Best regards,
-C.B.


From fabrice.colin at gmail.com  Thu Nov 15 13:53:17 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Thu, 15 Nov 2007 20:53:17 +0800
Subject: [Pinot-discuss] pinot running and indexing but not search
In-Reply-To: <6538c8c80711150452l9bc531gebeae285c9c4f129@mail.gmail.com>
References: <47382BDC.6000403@gmail.com> <4738472C.8060604@gmail.com>
	<6538c8c80711120446s20970924pd3d789f89ddb9e04@mail.gmail.com>
	<47385E03.5080007@gmail.com>
	<6538c8c80711120627k5ae787eeyd14dc229bfa16eb6@mail.gmail.com>
	<47387E6D.4070600@gmail.com>
	<6538c8c80711122014m5321dfb7k456ab1e4f15810a9@mail.gmail.com>
	<473A17B8.9040005@gmail.com>
	<6538c8c80711131740o534a7207q52835ab824f2b51e@mail.gmail.com>
	<6538c8c80711150452l9bc531gebeae285c9c4f129@mail.gmail.com>
Message-ID: <6538c8c80711150453s23f6f1f9o1a5599917adcb470@mail.gmail.com>

My reply to the previous message.

---------- Forwarded message ----------
From: Fabrice Colin <fabrice.colin at gmail.com>
Date: Nov 14, 2007 9:40 AM
Subject: Re: [Pinot-discuss] pinot running and indexing but not search
To: Cam Bazz <cambazz at gmail.com>

Hi !

On Nov 14, 2007 5:31 AM, Cam Bazz <cambazz at gmail.com> wrote:
> I managed to get it working. Appearanly, I installed the filters after I
> added the index dir. What I have done was to delete .pinot and let it
> index once more. This time It worked.
>
Great !


> I have few other questions:
>
> - what is the my web pages search? which directory does it search?
>
It's the index that holds results from Web engines you have indexed.
See section 4 in the README.

> - what does `index` do. (when you right click on a document?)
>
It indexes the selected results and adds them to My Web Pages.

> - when I search on my documents and results are displayed, there is:
>
>     a green circle (if you had opened the document before)
>     a document icon with a hand on it
>     and arrows (either up or down)
>
>    What do those mean?
>
The document+hand icon shows the document is in one of the indexes.
I ought to go and design a better icon, instead of borrowing GTK's
stock "Index" icon.
Arrows shows changes to ranking compared to the last time you ran
the same search. That's only really meaningful for Stored Queries,
and cases where the user changes Live Query bit by bit to drill down
to a document.

> - I could not find a way to label documents.
>
Labels are applied as properties. Use the Index, List Contents Of menu
to browse your My Documents index. Get to the documents you want
to label (possibly using a Stored Query as filter, instead of "All"
documents), select them in the list and open the Index, Properties
menu. This will show a new dialog window where you can set labels,
or edit metadata. Labels defined in Preferences will show in that
dialog.

> - Also when a query is executed, a tab opens. (live query)
>   and when you issue another query, it will just use this tab. should
> not it open another tab instead. (possibly) with the name of the query.
>
Actually this is the mode of operation, except that the name of
the query you create by entering stuff in the Query field is always
"Live Query". Stored Queries can have any name.

There are elements of the UI that could do with some clarifications,
and are possibly confusing. All suggestions are welcome.

Fabrice


From cambazz at gmail.com  Thu Nov 15 14:01:26 2007
From: cambazz at gmail.com (Cam Bazz)
Date: Thu, 15 Nov 2007 15:01:26 +0200
Subject: [Pinot-discuss] [Fwd: Re: pinot running and indexing but not search]
Message-ID: <473C4326.9010300@gmail.com>

Hello All;

I managed to get pinot working. Appearanly, I installed the filters after I
added the index dir. What I have done was to delete .pinot and let it
index once more. This time It worked.

Best regards,
-C.B.




From fabrice.colin at gmail.com  Sun Nov 25 08:10:07 2007
From: fabrice.colin at gmail.com (Fabrice Colin)
Date: Sun, 25 Nov 2007 15:10:07 +0800
Subject: [Pinot-discuss] Pinot 0.81
Message-ID: <6538c8c80711242310h57c12076kbe49a45aaf4fc67a@mail.gmail.com>

Pinot 0.81 is available.

http://developer.berlios.de/blog/archives/159-Pinot-0.81-is-out.html

This version requires at least Xapian 1.0.3; 1.0.4 or better is highly
recommended.

Fabrice


