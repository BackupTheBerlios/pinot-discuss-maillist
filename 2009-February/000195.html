<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pinot-discuss] high memory usage while indexing
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pinot-discuss/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:pinot-discuss%40lists.berlios.de?Subject=Re%3A%20%5BPinot-discuss%5D%20high%20memory%20usage%20while%20indexing&In-Reply-To=%3C20090220081814.4e15ae9e%40desktop.workplace%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000194.html">
   <LINK REL="Next"  HREF="000196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pinot-discuss] high memory usage while indexing</H1>
    <B>John Werden</B> 
    <A HREF="mailto:pinot-discuss%40lists.berlios.de?Subject=Re%3A%20%5BPinot-discuss%5D%20high%20memory%20usage%20while%20indexing&In-Reply-To=%3C20090220081814.4e15ae9e%40desktop.workplace%3E"
       TITLE="[Pinot-discuss] high memory usage while indexing">jwerden at hotpop.com
       </A><BR>
    <I>Fri Feb 20 08:18:14 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000194.html">[Pinot-discuss] high memory usage while indexing
</A></li>
        <LI>Next message: <A HREF="000196.html">[Pinot-discuss] high memory usage while indexing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#195">[ date ]</a>
              <a href="thread.html#195">[ thread ]</a>
              <a href="subject.html#195">[ subject ]</a>
              <a href="author.html#195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 19 Feb 2009 23:44:38 +0100
John Werden &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/pinot-discuss">jwerden at hotpop.com</A>&gt; wrote:

&gt;<i> On Thu, 19 Feb 2009 21:05:47 +0100
</I>&gt;<i> John Werden &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/pinot-discuss">jwerden at hotpop.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; long enough. (See my first timed log about memory usage). As said,
</I>&gt;<i> &gt; if I get the chance, I will make a real long session, but I don't
</I>&gt;<i> &gt; know when.
</I>&gt;<i> 
</I>&gt;<i> I just checked some numbers and found out that I would need to run the
</I>&gt;<i> test for 2 straight days without using my computer before getting any
</I>&gt;<i> result.
</I>&gt;<i> 
</I>&gt;<i> Reason is that one 48 hours in valgrind translate to roughly an hour
</I>&gt;<i> in pinot-dbus-daemon and the first big memory leak appeared after one
</I>&gt;<i> hour (see pinot-res2.log.bz2).
</I>&gt;<i> 
</I>&gt;<i> I will run it as long as possible, but probably not _that_ long.
</I>&gt;<i> 
</I>
Tinkered a little bit around and found a directory which had files who
would trigger high memory usage. Only 161 files where in the directory
so I could use memcheck without any problems. I did both a full scan
with and without memcheck for that specific directory.

memory usage while indexing (standalone, 1s intervals):

519m  19m 7244
519m  27m 7204
521m  31m 8044
529m  71m 8024
529m  71m 8024
521m  60m 8024
512m  60m 7508
513m  61m 7480
481m  61m 7408
509m  65m 7636
509m  71m 7520
509m  74m 7596
509m  73m 7428
509m  73m 7488
509m  75m 7516
509m  74m 7432
509m  74m 7480
509m  74m 7416
509m  70m 7452
461m  67m 7404

Attachment contains memcheck output.

John
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pinot-mem.6.log.bz2
Type: application/x-bzip
Size: 23454 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/pinot-discuss/attachments/20090220/618ee442/attachment.bin">https://lists.berlios.de/pipermail/pinot-discuss/attachments/20090220/618ee442/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000194.html">[Pinot-discuss] high memory usage while indexing
</A></li>
	<LI>Next message: <A HREF="000196.html">[Pinot-discuss] high memory usage while indexing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#195">[ date ]</a>
              <a href="thread.html#195">[ thread ]</a>
              <a href="subject.html#195">[ subject ]</a>
              <a href="author.html#195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pinot-discuss">More information about the Pinot-discuss
mailing list</a><br>
</body></html>
